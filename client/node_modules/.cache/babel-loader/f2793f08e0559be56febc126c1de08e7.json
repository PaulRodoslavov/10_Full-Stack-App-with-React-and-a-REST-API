{"ast":null,"code":"import _defineProperty from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/components/UpdateCourse.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\nvar UpdateCourse =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateCourse, _Component);\n\n  function UpdateCourse() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UpdateCourse);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UpdateCourse)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.updateCourse = function (event) {\n      event.preventDefault();\n      window.history.back(); //    const {\n      //      title,\n      //      description,\n      //      estimatedTime,\n      //      materialsNeeded,\n      //      user\n      //    } = this.state;\n      //\n      //    const session_url = `http://localhost:5000/api/courses/${this.props.id}`;\n      //    const name = this.state.user.emailAddress;\n      //    const pass = this.state.user.password;\n      //    axios.put(session_url, {}, {\n      //       auth: {\n      //          username: name,\n      //          password: pass\n      //       },\n      //       data: {\n      //          title: title,\n      //          description: description,\n      //          estimatedTime: estimatedTime,\n      //          materialsNeeded: materialsNeeded,\n      //          user: user\n      //       }\n      //    }).then( response => {\n      //    // console.log(response)\n      //    if (response.status === 204 ) this.props.history.push(`/courses/${this.props.id}`);\n      // }).catch(error => {\n      //      console.log(error);\n      //    });\n    };\n\n    _this.state = {\n      validTitle: 'Please provide a value for \"Title\" - min 5 characters',\n      validDescrip: 'Please provide a value for \"Description\" - min 5 characters',\n      user: _this.props.user.idUserLogin,\n      title: '',\n      description: '',\n      estimatedTime: '',\n      materialsNeeded: ''\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.validTitle = function (event) {\n      _this.setState({\n        valueTitle: event.target.value\n      });\n\n      console.log(event.target.value);\n    };\n\n    _this.validDescrip = function (event) {\n      _this.setState({\n        valueDescrip: event.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UpdateCourse, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:5000/api/courses/\".concat(this.props.id)).then(function (res) {\n        if (res.ok) {\n          _this2.setState({\n            isLoding: false\n          });\n\n          return res.json();\n        } else {\n          _this2.props.history.push('/notfound');\n        }\n      }).then(function (res) {\n        if (res.user._id !== _this2.props.user.idUserLogin) {\n          _this2.props.history.push('/forbidden');\n\n          return;\n        }\n\n        _this2.setState({\n          res: res,\n          title: res.title,\n          description: res.description,\n          estimatedTime: res.estimatedTime,\n          materialsNeeded: res.materialsNeeded,\n          firstName: res.user.firstName,\n          lastName: res.user.lastName\n        });\n      }).catch(function (error) {\n        console.log('Error fetching and parsing data', error);\n      });\n    }\n  }, {\n    key: \"removeElement\",\n    value: function removeElement() {\n      var validWrap = document.querySelector(\".validation-wrapper\");\n\n      if (validWrap) {\n        if (this.state.title.length > 4 && this.state.description.length > 4) {\n          validWrap.style.display = \"none\";\n        } else {\n          validWrap.style.display = \"block\";\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log(this.state.user.idUserLogin)\n      this.removeElement();\n      return React.createElement(\"div\", {\n        className: \"bounds course--detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Update Course\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"validation-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"validation--errors--label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Validation errors\"), React.createElement(\"div\", {\n        className: \"validation-errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"validTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.state.title.length > 4 ? \"\" : this.state.validTitle), React.createElement(\"li\", {\n        className: \"validDescrip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, this.state.description.length > 4 ? \"\" : this.state.validDescrip))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-66\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"course--label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Course\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"title\",\n        name: \"title\",\n        onChange: this.onChange,\n        type: \"text\",\n        className: \"input-title course--title--input\",\n        placeholder: \"Course title...\",\n        value: this.state.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.state.firstName + \" \" + this.state.lastName)), React.createElement(\"div\", {\n        className: \"course--description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        value: this.state.description,\n        onChange: this.onChange,\n        className: \"\",\n        placeholder: \"Course description...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"grid-25 grid-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--stats\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"course--stats--list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Estimated Time\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"estimatedTime\",\n        name: \"estimatedTime\",\n        value: this.state.estimatedTime,\n        onChange: this.onChange,\n        type: \"text\",\n        className: \"course--time--input\",\n        placeholder: \"Hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }))), React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Materials Needed\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"materialsNeeded\",\n        name: \"materialsNeeded\",\n        value: this.state.materialsNeeded,\n        onChange: this.onChange,\n        className: \"\",\n        placeholder: \"List materials...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"grid-100 pad-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.updateCourse,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Update Course\"), React.createElement(\"button\", {\n        className: \"button button-secondary\",\n        onClick: function onClick() {\n          return _this3.props.history.push(\"/courses/\".concat(_this3.props.id));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Cancel\")))));\n    }\n  }]);\n\n  return UpdateCourse;\n}(Component);\n\nexport default withRouter(UpdateCourse);","map":{"version":3,"sources":["/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/components/UpdateCourse.js"],"names":["React","Component","withRouter","axios","UpdateCourse","updateCourse","event","preventDefault","window","history","back","state","validTitle","validDescrip","user","props","idUserLogin","title","description","estimatedTime","materialsNeeded","onChange","setState","target","name","value","valueTitle","console","log","valueDescrip","fetch","id","then","res","ok","isLoding","json","push","_id","firstName","lastName","catch","error","validWrap","document","querySelector","length","style","display","removeElement"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nclass UpdateCourse extends Component {\n\n   componentDidMount() {\n      fetch(`http://localhost:5000/api/courses/${this.props.id}`)\n      .then(res => {\n         if(res.ok) {\n            this.setState({isLoding:false})\n            return res.json()\n         }  else {\n            this.props.history.push('/notfound');\n         }\n      })\n      .then(res => {\n         if (res.user._id !== this.props.user.idUserLogin) {\n            this.props.history.push('/forbidden');\n            return;\n         }\n         this.setState({\n         res:res,\n         title: res.title,\n         description: res.description,\n         estimatedTime: res.estimatedTime,\n         materialsNeeded: res.materialsNeeded,\n         firstName: res.user.firstName,\n         lastName: res.user.lastName,\n         });\n\n      })\n      .catch(error => {\n         console.log('Error fetching and parsing data', error);\n      }\n   )};\n\n   updateCourse = event => {\n      event.preventDefault();\n      window.history.back();\n   //    const {\n   //      title,\n   //      description,\n   //      estimatedTime,\n   //      materialsNeeded,\n   //      user\n   //    } = this.state;\n   //\n   //    const session_url = `http://localhost:5000/api/courses/${this.props.id}`;\n   //    const name = this.state.user.emailAddress;\n   //    const pass = this.state.user.password;\n   //    axios.put(session_url, {}, {\n   //       auth: {\n   //          username: name,\n   //          password: pass\n   //       },\n   //       data: {\n   //          title: title,\n   //          description: description,\n   //          estimatedTime: estimatedTime,\n   //          materialsNeeded: materialsNeeded,\n   //          user: user\n   //       }\n   //    }).then( response => {\n   //    // console.log(response)\n   //    if (response.status === 204 ) this.props.history.push(`/courses/${this.props.id}`);\n   // }).catch(error => {\n   //      console.log(error);\n   //    });\n   }\n\n   state = {\n      validTitle: 'Please provide a value for \"Title\" - min 5 characters',\n      validDescrip: 'Please provide a value for \"Description\" - min 5 characters',\n      user: this.props.user.idUserLogin,\n      title:'',\n      description:'',\n      estimatedTime:'',\n      materialsNeeded:''\n   }\n\nonChange = event => {\n   this.setState({[event.target.name]: event.target.value});\n}\n\nvalidTitle = (event) => {\n    this.setState({valueTitle: event.target.value});\n    console.log(event.target.value)\n}\n  validDescrip = (event) => {\n      this.setState({valueDescrip: event.target.value});\n}\nremoveElement () {\n   const validWrap = document.querySelector(\".validation-wrapper\");\n   if (validWrap) {\n      if(this.state.title.length > 4 && this.state.description.length > 4) {\n         validWrap.style.display = \"none\"\n      } else {\n         validWrap.style.display = \"block\"\n      }\n   }\n}\n\n   render() {\n      // console.log(this.state.user.idUserLogin)\n this.removeElement ();\n      return(\n         <div className=\"bounds course--detail\">\n           <h1>Update Course</h1>\n           <div>\n             <div className = \"validation-wrapper\">\n               <h2 className=\"validation--errors--label\">Validation errors</h2>\n               <div className=\"validation-errors\">\n                 <ul>\n                    <li className=\"validTitle\">{this.state.title.length > 4 ? \"\" : this.state.validTitle}</li>\n                    <li className=\"validDescrip\">{this.state.description.length > 4 ? \"\" : this.state.validDescrip}</li>\n                 </ul>\n               </div>\n             </div>\n           </div>\n           <div>\n             <form>\n               <div className=\"grid-66\">\n                 <div className=\"course--header\">\n                   <h4 className=\"course--label\">Course</h4>\n                   <div><input id=\"title\" name=\"title\" onChange={this.onChange} type=\"text\" className=\"input-title course--title--input\" placeholder=\"Course title...\"\n                       value={this.state.title}/></div>\n                   <p>{this.state.firstName + \" \" + this.state.lastName }</p>\n                 </div>\n                 <div className=\"course--description\">\n                   <div>\n                      <textarea id=\"description\" name=\"description\" value={this.state.description} onChange={this.onChange} className=\"\" placeholder=\"Course description...\">\n                      </textarea>\n                   </div>\n                 </div>\n               </div>\n               <div className=\"grid-25 grid-right\">\n                 <div className=\"course--stats\">\n                   <ul className=\"course--stats--list\">\n                     <li className=\"course--stats--list--item\">\n                       <h4>Estimated Time</h4>\n                       <div><input id=\"estimatedTime\" name=\"estimatedTime\"  value={this.state.estimatedTime} onChange={this.onChange} type=\"text\" className=\"course--time--input\"\n                           placeholder=\"Hours\"/></div>\n                     </li>\n                     <li className=\"course--stats--list--item\">\n                       <h4>Materials Needed</h4>\n                       <div>\n                          <textarea id=\"materialsNeeded\" name=\"materialsNeeded\" value={this.state.materialsNeeded} onChange={this.onChange} className=\"\" placeholder=\"List materials...\">\n                          </textarea>\n                       </div>\n                     </li>\n                   </ul>\n                 </div>\n               </div>\n               <div className=\"grid-100 pad-bottom\">\n                  <button className=\"button\" onClick={this.updateCourse}type=\"submit\">Update Course</button>\n                  <button className=\"button button-secondary\" onClick={() => this.props.history.push(`/courses/${this.props.id}`)}>Cancel</button>\n               </div>\n             </form>\n           </div>\n         </div>\n      );\n   }\n}\nexport default withRouter(UpdateCourse);\n"]},"metadata":{},"sourceType":"module"}