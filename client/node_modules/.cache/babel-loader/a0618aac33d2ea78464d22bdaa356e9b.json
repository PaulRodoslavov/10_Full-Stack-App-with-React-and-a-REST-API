{"ast":null,"code":"import _defineProperty from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/components/UpdateCourse.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\nvar UpdateCourse =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateCourse, _Component);\n\n  function UpdateCourse() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UpdateCourse);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UpdateCourse)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.updateCourse = function (event) {\n      event.preventDefault();\n      var data = {\n        email: \"pasha@gmail.com\",\n        password: \"12345\"\n      };\n      axios.put(\"http://localhost:5000/api/courses/\".concat(_this.props.id), data).then(function (response) {\n        console.log(response); // history.push(`/courses/${_id}`);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.state = {\n      user: _this.props.user,\n      title: '',\n      description: '',\n      estimatedTime: '',\n      materialsNeeded: ''\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(UpdateCourse, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:5000/api/courses/\".concat(this.props.id)).then(function (res) {\n        if (res.ok) {\n          _this2.setState({\n            isLoding: false\n          });\n\n          return res.json();\n        } else {\n          _this2.props.history.push('/notfound');\n        }\n      }).then(function (res) {\n        if (res.user._id !== _this2.props.user.idUserLogin) {\n          _this2.props.history.push('/forbidden');\n\n          return;\n        }\n\n        _this2.setState({\n          res: res,\n          title: res.title,\n          description: res.description,\n          estimatedTime: res.estimatedTime,\n          materialsNeeded: res.materialsNeeded,\n          firstName: res.user.firstName,\n          lastName: res.user.lastName\n        });\n      }).catch(function (error) {\n        console.log('Error fetching and parsing data', error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(this.state.res)\n      if (this.state.res) {\n        console.log(this.state.res);\n        console.log(this.state.user.idUserLogin);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"bounds course--detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Update Course\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-66\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"course--label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Course\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"title\",\n        name: \"title\",\n        onChange: this.onChange,\n        type: \"text\",\n        className: \"input-title course--title--input\",\n        placeholder: \"Course title...\",\n        value: this.state.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.firstName + \" \" + this.state.lastName)), React.createElement(\"div\", {\n        className: \"course--description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        value: this.state.description,\n        onChange: this.onChange,\n        className: \"\",\n        placeholder: \"Course description...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"grid-25 grid-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--stats\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"course--stats--list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Estimated Time\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"estimatedTime\",\n        name: \"estimatedTime\",\n        value: this.state.estimatedTime,\n        onChange: this.onChange,\n        type: \"text\",\n        className: \"course--time--input\",\n        placeholder: \"Hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))), React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Materials Needed\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"materialsNeeded\",\n        name: \"materialsNeeded\",\n        value: this.state.materialsNeeded,\n        onChange: this.onChange,\n        className: \"\",\n        placeholder: \"List materials...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"grid-100 pad-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.updateCourse,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Update Course\"), React.createElement(\"button\", {\n        className: \"button button-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Cancel\")))));\n    }\n  }]);\n\n  return UpdateCourse;\n}(Component);\n\nexport default withRouter(UpdateCourse);","map":{"version":3,"sources":["/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/components/UpdateCourse.js"],"names":["React","Component","withRouter","axios","UpdateCourse","updateCourse","event","preventDefault","data","email","password","put","props","id","then","response","console","log","catch","error","state","user","title","description","estimatedTime","materialsNeeded","onChange","setState","target","name","value","fetch","res","ok","isLoding","json","history","push","_id","idUserLogin","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nclass UpdateCourse extends Component {\n\n   componentDidMount() {\n      fetch(`http://localhost:5000/api/courses/${this.props.id}`)\n      .then(res => {\n         if(res.ok) {\n            this.setState({isLoding:false})\n            return res.json()\n         }  else {\n            this.props.history.push('/notfound');\n         }\n      })\n      .then(res => {\n         if (res.user._id !== this.props.user.idUserLogin) {\n            this.props.history.push('/forbidden');\n            return;\n         }\n         this.setState({\n         res:res,\n         title: res.title,\n         description: res.description,\n         estimatedTime: res.estimatedTime,\n         materialsNeeded: res.materialsNeeded,\n         firstName: res.user.firstName,\n         lastName: res.user.lastName,\n         });\n\n      })\n      .catch(error => {\n         console.log('Error fetching and parsing data', error);\n      }\n   )};\n   updateCourse = event => {\n      event.preventDefault();\n      var data = {\n           email: \"pasha@gmail.com\",\n           password: \"12345\"\n         };\n\n   axios\n     .put(`http://localhost:5000/api/courses/${this.props.id}`, data)\n     .then(response => {\n        console.log(response)\n       // history.push(`/courses/${_id}`);\n     })\n     .catch(error => console.log(error));\n   }\n\n   state = {\n      user: this.props.user,\n      title:'',\n      description:'',\n      estimatedTime:'',\n      materialsNeeded:''\n   }\n\nonChange = event => {\n   this.setState({[event.target.name]: event.target.value});\n}\n\n   render() {\n\n               // console.log(this.state.res)\n      if (this.state.res){\n         console.log(this.state.res)\n         console.log(this.state.user.idUserLogin)\n      }\n\n      return(\n         <div className=\"bounds course--detail\">\n           <h1>Update Course</h1>\n           <div>\n             <form>\n               <div className=\"grid-66\">\n                 <div className=\"course--header\">\n                   <h4 className=\"course--label\">Course</h4>\n                   <div><input id=\"title\" name=\"title\" onChange={this.onChange} type=\"text\" className=\"input-title course--title--input\" placeholder=\"Course title...\"\n                       value={this.state.title}/></div>\n                   <p>{this.state.firstName + \" \" + this.state.lastName }</p>\n                 </div>\n                 <div className=\"course--description\">\n                   <div>\n                      <textarea id=\"description\" name=\"description\" value={this.state.description} onChange={this.onChange} className=\"\" placeholder=\"Course description...\">\n                      </textarea>\n                   </div>\n                 </div>\n               </div>\n               <div className=\"grid-25 grid-right\">\n                 <div className=\"course--stats\">\n                   <ul className=\"course--stats--list\">\n                     <li className=\"course--stats--list--item\">\n                       <h4>Estimated Time</h4>\n                       <div><input id=\"estimatedTime\" name=\"estimatedTime\"  value={this.state.estimatedTime} onChange={this.onChange} type=\"text\" className=\"course--time--input\"\n                           placeholder=\"Hours\"/></div>\n                     </li>\n                     <li className=\"course--stats--list--item\">\n                       <h4>Materials Needed</h4>\n                       <div>\n                          <textarea id=\"materialsNeeded\" name=\"materialsNeeded\" value={this.state.materialsNeeded} onChange={this.onChange} className=\"\" placeholder=\"List materials...\">\n                          </textarea>\n                       </div>\n                     </li>\n                   </ul>\n                 </div>\n               </div>\n               <div className=\"grid-100 pad-bottom\">\n                  <button className=\"button\" onClick={this.updateCourse}type=\"submit\">Update Course</button>\n                  <button className=\"button button-secondary\" >Cancel</button>\n               </div>\n             </form>\n           </div>\n         </div>\n      );\n   }\n}\nexport default withRouter(UpdateCourse);\n"]},"metadata":{},"sourceType":"module"}