{"ast":null,"code":"import _defineProperty from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/components/CreateCourse.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n\nvar CreateCourse =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateCourse, _Component);\n\n  function CreateCourse() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateCourse);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateCourse)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      validTitle: 'Please provide a value for \"Title\" - min 5 characters',\n      validDescrip: 'Please provide a value for \"Description\" - min 5 characters',\n      title: \"\",\n      description: \"\",\n      estimatedTime: \"\",\n      materialsNeeded: \"\"\n    };\n\n    _this.validTitle = function (event) {\n      _this.setState({\n        valueTitle: event.target.value\n      });\n    };\n\n    _this.validDescrip = function (event) {\n      _this.setState({\n        valueDescrip: event.target.value\n      });\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onSubmit = function (event) {\n      event.preventDefault(); // console.log(this.props.user.idUserLogin)\n      // console.log(document.referrer);\n\n      if (_this.props.user.idUserLogin) {\n        var _this$state = _this.state,\n            title = _this$state.title,\n            description = _this$state.description,\n            estimatedTime = _this$state.estimatedTime,\n            materialsNeeded = _this$state.materialsNeeded;\n        var user = _this.props.user.idUserLogin;\n        axios.post(\"http://localhost:5000/api/courses\", {}, {\n          // auth: {\n          //   username: 'pasha@gmail.com',\n          //   password: '12345'\n          // },\n          data: {\n            title: title,\n            description: description,\n            estimatedTime: estimatedTime,\n            materialsNeeded: materialsNeeded,\n            user: user\n          }\n        }).then(function (res) {\n          // console.log(res)\n          if (res.status === 201) {\n            _this.props.history.push('/');\n          }\n\n          if (res.status === 500) _this.props.history.push('/error');\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      } else console.log('error');\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateCourse, [{\n    key: \"removeElement\",\n    value: function removeElement() {\n      var validWrap = document.querySelector(\".validation-wrapper\");\n\n      if (validWrap) {\n        if (this.state.title.length > 5 && this.state.description.length > 5) {\n          validWrap.style.display = \"none\";\n        } else {\n          validWrap.style.display = \"block\";\n        }\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (!this.props.user.idUserLogin) {\n        this.props.history.push('/signin');\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Loading...\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          title = _this$state2.title,\n          description = _this$state2.description,\n          estimatedTime = _this$state2.estimatedTime,\n          materialsNeeded = _this$state2.materialsNeeded;\n      this.removeElement();\n      return React.createElement(\"div\", {\n        className: \"bounds course--detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Create Course\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"validation-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"validation--errors--label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Validation errors\"), React.createElement(\"div\", {\n        className: \"validation-errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"validTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.title.length > 4 ? \"\" : this.state.validTitle), React.createElement(\"li\", {\n        className: \"validDescrip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.description.length > 4 ? \"\" : this.state.validDescrip))))), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-66\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"course--label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Course\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"title\",\n        onChange: this.onChange,\n        value: title,\n        name: \"title\",\n        type: \"text\",\n        className: \"input-title course--title--input\",\n        placeholder: \"Course title...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.props.user.firstName + this.props.user.lastName)), React.createElement(\"div\", {\n        className: \"course--description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"description\",\n        onChange: this.onChange,\n        value: description,\n        name: \"description\",\n        className: \"\",\n        placeholder: \"Course description...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"grid-25 grid-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"course--stats\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"course--stats--list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Estimated Time\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"estimatedTime\",\n        onChange: this.onChange,\n        value: estimatedTime,\n        name: \"estimatedTime\",\n        type: \"text\",\n        className: \"course--time--input\",\n        placeholder: \"Hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))), React.createElement(\"li\", {\n        className: \"course--stats--list--item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Materials Needed\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"materialsNeeded\",\n        onChange: this.onChange,\n        name: \"materialsNeeded\",\n        value: materialsNeeded,\n        className: \"\",\n        placeholder: \"List materials...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"grid-100 pad-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Create Course\"), React.createElement(\"button\", {\n        className: \"button button-secondary\",\n        onClick: function onClick() {\n          return _this2.props.history.push(\"/\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return CreateCourse;\n}(Component);\n\nexport default withRouter(CreateCourse);","map":{"version":3,"sources":["/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/components/CreateCourse.js"],"names":["React","Component","axios","withRouter","CreateCourse","state","validTitle","validDescrip","title","description","estimatedTime","materialsNeeded","event","setState","valueTitle","target","value","valueDescrip","onChange","name","onSubmit","preventDefault","props","user","idUserLogin","post","data","then","res","status","history","push","catch","error","console","log","validWrap","document","querySelector","length","style","display","removeElement","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n\nclass CreateCourse extends Component {\nstate = {\n   validTitle: 'Please provide a value for \"Title\" - min 5 characters',\n   validDescrip: 'Please provide a value for \"Description\" - min 5 characters',\n   title: \"\",\n   description: \"\",\n   estimatedTime: \"\",\n   materialsNeeded: \"\"\n}\n\nvalidTitle = (event) => {\n    this.setState({valueTitle: event.target.value});\n}\n  validDescrip = (event) => {\n      this.setState({valueDescrip: event.target.value});\n}\nremoveElement () {\n   const validWrap = document.querySelector(\".validation-wrapper\");\n   if (validWrap) {\n      if(this.state.title.length > 5 && this.state.description.length > 5) {\n         validWrap.style.display = \"none\"\n      } else {\n         validWrap.style.display = \"block\"\n      }\n   }\n}\nonChange = event => {\n   this.setState({ [event.target.name]: event.target.value });\n}\nonSubmit = event => {\n   event.preventDefault();\n   // console.log(this.props.user.idUserLogin)\n   // console.log(document.referrer);\n   if (this.props.user.idUserLogin) {\n      const {\n        title,\n        description,\n        estimatedTime,\n        materialsNeeded\n      } = this.state;\n\n      const user = this.props.user.idUserLogin;\n\n      axios.post(\"http://localhost:5000/api/courses\", {}, {\n         // auth: {\n         //   username: 'pasha@gmail.com',\n         //   password: '12345'\n         // },\n         data: {\n           title: title,\n           description: description,\n           estimatedTime: estimatedTime,\n           materialsNeeded: materialsNeeded,\n           user: user\n         }\n      })\n        .then(res => {\n           // console.log(res)\n           if(res.status === 201) {\n              this.props.history.push('/');\n           }\n           if (res.status === 500)  this.props.history.push('/error');\n        })\n\n\n\n\n\n\n\n\n        .catch(error => console.log(error));\n   } else console.log('error')\n}\ncomponentWillMount() {\n   if (!this.props.user.idUserLogin) {\n      this.props.history.push('/signin')\n      return <div>Loading...</div>;\n   }\n}\n\n   render() {\n\n      const {\n        title,\n        description,\n        estimatedTime,\n        materialsNeeded,\n        // user\n      } = this.state;\n      this.removeElement ();\n\n      return(\n         <div className=\"bounds course--detail\">\n            <h1>Create Course</h1>\n            <div>\n               <div className = \"validation-wrapper\">\n                <h2 className=\"validation--errors--label\">Validation errors</h2>\n                <div className=\"validation-errors\">\n                  <ul>\n                     <li className=\"validTitle\">{this.state.title.length > 4 ? \"\" : this.state.validTitle}</li>\n                     <li className=\"validDescrip\">{this.state.description.length > 4 ? \"\" : this.state.validDescrip}</li>\n                  </ul>\n                </div>\n               </div>\n            </div>\n            <form onSubmit={this.onSubmit}>\n               <div className=\"grid-66\">\n                 <div className=\"course--header\">\n                  <h4 className=\"course--label\">Course</h4>\n                  <div>\n                     <input id=\"title\" onChange={this.onChange}  value={title} name=\"title\" type=\"text\" className=\"input-title course--title--input\" placeholder=\"Course title...\"/>\n                  </div>\n                   <p>{this.props.user.firstName + this.props.user.lastName}</p>\n                 </div>\n                 <div className=\"course--description\">\n                   <div><textarea id=\"description\" onChange={this.onChange} value={description} name=\"description\" className=\"\" placeholder=\"Course description...\"></textarea></div>\n                 </div>\n               </div>\n               <div className=\"grid-25 grid-right\">\n                 <div className=\"course--stats\">\n                   <ul className=\"course--stats--list\">\n                     <li className=\"course--stats--list--item\">\n                       <h4>Estimated Time</h4>\n                       <div><input id=\"estimatedTime\" onChange={this.onChange} value={estimatedTime} name=\"estimatedTime\" type=\"text\" className=\"course--time--input\"\n                           placeholder=\"Hours\"/></div>\n                     </li>\n                     <li className=\"course--stats--list--item\">\n                       <h4>Materials Needed</h4>\n                       <div><textarea id=\"materialsNeeded\" onChange={this.onChange} name=\"materialsNeeded\" value={materialsNeeded} className=\"\" placeholder=\"List materials...\"></textarea></div>\n                     </li>\n                   </ul>\n                 </div>\n               </div>\n               <div className=\"grid-100 pad-bottom\">\n                  <button className=\"button\" type=\"submit\">Create Course</button>\n                  <button className=\"button button-secondary\" onClick={() => this.props.history.push(\"/\")} >Cancel</button>\n               </div>\n            </form>\n\n\n         </div>\n      );\n   }\n}\nexport default withRouter (CreateCourse);\n"]},"metadata":{},"sourceType":"module"}