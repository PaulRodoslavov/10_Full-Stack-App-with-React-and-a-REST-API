{"ast":null,"code":"import _classCallCheck from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Courses from './components/Courses';\nimport Header from './components/Header';\nimport CourseDetail from './components/CourseDetail';\nimport CreateCourse from './components/CreateCourse';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport NotFound from './components/NotFound';\nimport axios from \"axios\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: ''\n    };\n\n    _this.signIn = function (email, pass, history) {\n      // console.log(email, pass)\n      axios.get('http://localhost:5000/api/users', {\n        auth: {\n          username: email,\n          password: pass\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          localStorage.setItem('firstName', response.data.firstName);\n          localStorage.setItem('lastName', response.data.lastName);\n          localStorage.setItem('password', response.data.password);\n          localStorage.setItem('emailAddress', response.data.emailAddress);\n          var firstName = localStorage.getItem('firstName');\n          var lastName = localStorage.getItem('lastName');\n          var password = localStorage.getItem('password');\n          var emailAddress = localStorage.getItem('emailAddress');\n\n          _this.setState({\n            user: {\n              firstName: firstName,\n              lastName: lastName,\n              password: password,\n              emailAddress: emailAddress\n            }\n          });\n\n          history.push(\"/\");\n        }\n      }) // .then(response => this.props.history.push(\"/\"))\n      .catch(function (err) {\n        // if invalid login info\n        if (err.response.status === 401) {// }\n        } else if (err.response.status === 404) {\n          _this.state.history.push('/notfound');\n        } else {//if it's a 500 error\n          // this.state.history.push('/error');\n        }\n      });\n    };\n\n    _this.isLogin = function (state) {\n      _this.setState({\n        user: state\n      });\n\n      console.log(state);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state.user);\n      var firstName = localStorage.getItem('firstName');\n      var lastName = localStorage.getItem('lastName');\n      var password = localStorage.getItem('password');\n      var emailAddress = localStorage.getItem('emailAddress');\n      var user = {\n        firstName: firstName,\n        lastName: lastName,\n        password: password,\n        emailAddress: emailAddress // console.log(user)\n\n      };\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/\",\n        render: function render() {\n          return React.createElement(Header, {\n            user: user,\n            isLogin: _this2.isLogin,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Courses,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/courses/create\",\n        component: CreateCourse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/courses/:id\",\n        render: function render(props) {\n          return React.createElement(CourseDetail, {\n            id: props.match.params.id,\n            user: user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signin\",\n        render: function render(props) {\n          return React.createElement(UserSignIn, {\n            signIn: _this2.signIn,\n            history: props.path,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signup\",\n        component: UserSignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","Courses","Header","CourseDetail","CreateCourse","UserSignIn","UserSignUp","NotFound","axios","App","state","user","signIn","email","pass","history","get","auth","username","password","then","response","status","localStorage","setItem","data","firstName","lastName","emailAddress","getItem","setState","push","catch","err","isLogin","console","log","props","match","params","id","path"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Courses from './components/Courses';\nimport Header from './components/Header';\nimport CourseDetail from './components/CourseDetail';\nimport CreateCourse from './components/CreateCourse';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport NotFound from './components/NotFound';\nimport axios from \"axios\";\n\n\n\n\nclass App extends Component {\n\n   state = {\n      user: ''\n   }\n\n   signIn = (email, pass, history) => {\n      // console.log(email, pass)\n     axios.get('http://localhost:5000/api/users', {\n         auth: {username: email, password: pass}\n     })\n     .then(response => {\n       if(response.status === 200) {\n          localStorage.setItem('firstName', response.data.firstName);\n          localStorage.setItem('lastName', response.data.lastName);\n          localStorage.setItem('password', response.data.password);\n          localStorage.setItem('emailAddress', response.data.emailAddress);\n\n         const firstName = localStorage.getItem('firstName');\n         const lastName = localStorage.getItem('lastName');\n         const password = localStorage.getItem('password');\n         const emailAddress = localStorage.getItem('emailAddress');\n         this.setState({\n           user: {firstName, lastName, password, emailAddress}\n         });\n         history.push(\"/\")\n       }\n     })\n     // .then(response => this.props.history.push(\"/\"))\n     .catch(err => {\n       // if invalid login info\n       if (err.response.status === 401) {\n         // }\n       } else if (err.response.status === 404) {\n         this.state.history.push('/notfound')\n       } else {\n         //if it's a 500 error\n         // this.state.history.push('/error');\n       }\n     });\n\n\n\n   }\n\n\nisLogin = (state) => {\n   this.setState({user: state})\n   console.log(state)\n}\n\n\n\n\n\n\n\n  render() {\n     console.log(this.state.user)\n\n     const firstName = localStorage.getItem('firstName');\n     const lastName = localStorage.getItem('lastName');\n     const password = localStorage.getItem('password');\n     const emailAddress = localStorage.getItem('emailAddress');\n     const user = {firstName, lastName, password, emailAddress}\n\n      // console.log(user)\n    return (\n      <BrowserRouter>\n         <div className=\"App\">\n         <Route path=\"/\" render={() => <Header user={user} isLogin={this.isLogin}/>}/>\n         <Switch>\n            <Route exact path=\"/\" component={Courses}/>\n            <Route path=\"/courses/create\" component={CreateCourse}/>\n            <Route path=\"/courses/:id\" render={ props => <CourseDetail id={props.match.params.id} user={user}/>}/>\n            <Route path=\"/signin\" render={ props => <UserSignIn signIn={this.signIn} history={props.path}/>}/>\n            <Route path=\"/signup\" component={UserSignUp}/>\n            <Route component={ NotFound }/>\n         </Switch>\n         </div>\n      </ BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}