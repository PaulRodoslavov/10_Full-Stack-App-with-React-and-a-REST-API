{"ast":null,"code":"import _classCallCheck from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Courses from './components/Courses';\nimport Header from './components/Header';\nimport CourseDetail from './components/CourseDetail';\nimport CreateCourse from './components/CreateCourse';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport UpdateCourse from './components/UpdateCourse';\nimport NotFound from './components/NotFound';\nimport axios from \"axios\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: ''\n    };\n\n    _this.signIn = function (email, pass, history) {\n      // console.log(email, pass)\n      axios.get('http://localhost:5000/api/users', {\n        auth: {\n          username: email,\n          password: pass\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          localStorage.setItem('idUserLogin', response.data._id);\n          localStorage.setItem('firstName', response.data.firstName);\n          localStorage.setItem('lastName', response.data.lastName);\n          localStorage.setItem('password', response.data.password);\n          localStorage.setItem('emailAddress', response.data.emailAddress);\n          var firstName = localStorage.getItem('firstName');\n          var lastName = localStorage.getItem('lastName');\n          var password = localStorage.getItem('password');\n          var emailAddress = localStorage.getItem('emailAddress');\n          var idUserLogin = localStorage.getItem('idUserLogin');\n\n          _this.setState({\n            user: {\n              firstName: firstName,\n              lastName: lastName,\n              password: password,\n              emailAddress: emailAddress,\n              idUserLogin: idUserLogin\n            }\n          });\n\n          history.push(\"/\");\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var firstName = localStorage.getItem('firstName');\n      var lastName = localStorage.getItem('lastName');\n      var password = localStorage.getItem('password');\n      var emailAddress = localStorage.getItem('emailAddress');\n      var idUserLogin = localStorage.getItem('idUserLogin');\n      var user = {\n        firstName: firstName,\n        lastName: lastName,\n        password: password,\n        emailAddress: emailAddress,\n        idUserLogin: idUserLogin // console.log(user)\n\n      };\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/\",\n        render: function render() {\n          return React.createElement(Header, {\n            user: user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Courses,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/courses/create\",\n        component: CreateCourse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/courses/:id/update\",\n        component: UpdateCourse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/courses/:id\",\n        render: function render(props) {\n          return React.createElement(CourseDetail, {\n            id: props.match.params.id,\n            user: user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signin\",\n        render: function render(props) {\n          return React.createElement(UserSignIn, {\n            signIn: _this2.signIn,\n            history: props.path,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signup\",\n        component: UserSignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/notfound\",\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/pasharodoslavov/Desktop/Techdegryee/fullstuck/10.full_stack_app_with_react_and_a_rest_api/client/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","Courses","Header","CourseDetail","CreateCourse","UserSignIn","UserSignUp","UpdateCourse","NotFound","axios","App","state","user","signIn","email","pass","history","get","auth","username","password","then","response","status","localStorage","setItem","data","_id","firstName","lastName","emailAddress","getItem","idUserLogin","setState","push","catch","err","console","log","props","match","params","id","path"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Courses from './components/Courses';\nimport Header from './components/Header';\nimport CourseDetail from './components/CourseDetail';\nimport CreateCourse from './components/CreateCourse';\nimport UserSignIn from './components/UserSignIn';\nimport UserSignUp from './components/UserSignUp';\nimport UpdateCourse from './components/UpdateCourse';\nimport NotFound from './components/NotFound';\nimport axios from \"axios\";\n\n\n\n\nclass App extends Component {\n\n   state = {\n      user: ''\n   }\n\n   signIn = (email, pass, history) => {\n      // console.log(email, pass)\n     axios.get('http://localhost:5000/api/users', {\n         auth: {username: email, password: pass}\n     })\n     .then(response => {\n       if(response.status === 200) {\n          localStorage.setItem('idUserLogin', response.data._id);\n          localStorage.setItem('firstName', response.data.firstName);\n          localStorage.setItem('lastName', response.data.lastName);\n          localStorage.setItem('password', response.data.password);\n          localStorage.setItem('emailAddress', response.data.emailAddress);\n\n         const firstName = localStorage.getItem('firstName');\n         const lastName = localStorage.getItem('lastName');\n         const password = localStorage.getItem('password');\n         const emailAddress = localStorage.getItem('emailAddress');\n         const idUserLogin = localStorage.getItem('idUserLogin');\n         this.setState({\n           user: {firstName, lastName, password, emailAddress, idUserLogin}\n         });\n         history.push(\"/\")\n       }\n     })\n     .catch(err => console.log(err));\n   }\n\n\n\n\n  render() {\n     const firstName = localStorage.getItem('firstName');\n     const lastName = localStorage.getItem('lastName');\n     const password = localStorage.getItem('password');\n     const emailAddress = localStorage.getItem('emailAddress');\n     const idUserLogin = localStorage.getItem('idUserLogin');\n     const user = {firstName, lastName, password, emailAddress, idUserLogin}\n\n      // console.log(user)\n    return (\n      <BrowserRouter>\n         <div className=\"App\">\n         <Route path=\"/\" render={() => <Header user={user}/>}/>\n         <Switch>\n            <Route exact path=\"/\" component={Courses}/>\n            <Route path=\"/courses/create\" component={CreateCourse}/>\n            <Route path=\"/courses/:id/update\" component={UpdateCourse}/>\n            <Route path=\"/courses/:id\" render={ props => <CourseDetail id={props.match.params.id} user={user}/>}/>\n\n            <Route path=\"/signin\" render={ props => <UserSignIn signIn={this.signIn} history={props.path}/>}/>\n            <Route path=\"/signup\" component={UserSignUp}/>\n            <Route path=\"/notfound\" component={ NotFound }/>\n            <Route component={ NotFound }/>\n         </Switch>\n         </div>\n      </ BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}